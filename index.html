<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Wells Fargo Analytics Competition by davekrall015</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Wells Fargo Analytics Competition</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/davekrall015/Wells-Fargo-Analytics-Competition" class="btn">View on GitHub</a>
      <a href="https://github.com/davekrall015/Wells-Fargo-Analytics-Competition/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/davekrall015/Wells-Fargo-Analytics-Competition/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="data-processing" class="anchor" href="#data-processing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data Processing</h3>

<p>Data Processing began with a dataset that was a rat's nest of information that was unorganized. In this dataset, there are Twitter submissions that regard respective banks. This dataset is broken down from a list of information into comprehensible groups. Banks are the first to be filtered, followed by the topics of discussion, then to Sentiment Analysis (emotional reactions to banks filtered through topics).</p>

<h3>
<a id="classifierr" class="anchor" href="#classifierr" aria-hidden="true"><span class="octicon octicon-link"></span></a>Classifier.R</h3>

<p>This was an approach to label the whole dataset by building a decision tree. We exported 1000 random records of the data set and labeled them by hand. Unfortunately the tree we got wasn't very helpful therefore we filter the topics by searching for special words (load_filter_data.R). Below is the an attempt to create topics in which individual Twitter submissions fall into regarding content.</p>

<div class="highlight highlight-source-r"><pre><span class="pl-c"># find messages with the topic 'atm'</span>
<span class="pl-v">atm.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>atm<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))

<span class="pl-c"># find messages with the topic 'online'</span>
<span class="pl-v">online1.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>online<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">online2.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))

<span class="pl-c"># find messages with the topic 'investment'</span>
<span class="pl-v">investment1.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>investor<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">investment2.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>investment<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))

<span class="pl-c"># find messages with the topic 'fraud'</span>
<span class="pl-v">fraud.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>fraud<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))

<span class="pl-c"># find messages with the topic 'service'</span>
<span class="pl-v">service.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>service<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))

<span class="pl-c"># find messages with the topic 'fee'</span>
<span class="pl-v">fee.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>fee<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))

<span class="pl-c"># find messages with the topic 'job'</span>
<span class="pl-v">job1.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>interview<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">job2.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>recruiting<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">job3.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>recruitment<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">job4.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>job<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
</pre></div>

<p><img src="http://i.imgur.com/EobP4p5.png" alt="Topics"></p>

<h3>
<a id="filtering-banks" class="anchor" href="#filtering-banks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Filtering Banks</h3>

<p>This code shown below was an attempt to take the mess of information and, based on the bank being mentioned, filter the submissions. Sentiment is an important filter that is taken into consideration and is weighted heavily in determining general satisfaction of the public in regard to each bank. The image shown immediately below the code shown below is a box plot representing the sentiment score of each bank. </p>

<div class="highlight highlight-source-r"><pre><span class="pl-c"># Filter banks</span>
<span class="pl-v">bankA.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>banka<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">bankB.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>bankb<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">bankC.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>bankc<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">bankD.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>bankd<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))

<span class="pl-c"># Enter new column with bank name</span>
<span class="pl-c"># initialize with 'No'</span>
<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-v">BankID</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>No<span class="pl-pds">"</span></span>
<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">BankID</span>[<span class="pl-smi">bankA.idx</span>] <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>BankA<span class="pl-pds">"</span></span>
<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">BankID</span>[<span class="pl-smi">bankB.idx</span>] <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>BankB<span class="pl-pds">"</span></span>
<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">BankID</span>[<span class="pl-smi">bankC.idx</span>] <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>BankC<span class="pl-pds">"</span></span>
<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">BankID</span>[<span class="pl-smi">bankD.idx</span>] <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>BankD<span class="pl-pds">"</span></span>

<span class="pl-c">#remove the bank indexes </span>
rm(<span class="pl-smi">bankA.idx</span>)
rm(<span class="pl-smi">bankB.idx</span>)
rm(<span class="pl-smi">bankC.idx</span>)
rm(<span class="pl-smi">bankD.idx</span>)</pre></div>

<p><img src="http://i.imgur.com/0709ESD.png" alt="Sentiment Score"></p>

<h3>
<a id="topics" class="anchor" href="#topics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Topics</h3>

<p>Each topic when they stand alone a very elementary, but when all of the topics come together, they can easily be mixed up or mistaken with one another. Once a visual is created in the form of a bar graph, one can easily see the frequency of each topic's appearance.</p>

<h4>
<a id="online" class="anchor" href="#online" aria-hidden="true"><span class="octicon octicon-link"></span></a>Online</h4>

<div class="highlight highlight-source-r"><pre><span class="pl-c"># find messages with the topic 'online'</span>
<span class="pl-v">online1.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>online<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">online2.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))</pre></div>

<h4>
<a id="atm" class="anchor" href="#atm" aria-hidden="true"><span class="octicon octicon-link"></span></a>ATM</h4>

<div class="highlight highlight-source-r"><pre><span class="pl-c"># find messages with the topic 'atm'</span>
<span class="pl-v">atm.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>atm<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))</pre></div>

<h4>
<a id="investment" class="anchor" href="#investment" aria-hidden="true"><span class="octicon octicon-link"></span></a>Investment</h4>

<div class="highlight highlight-source-r"><pre><span class="pl-c"># find messages with the topic 'investment'</span>
<span class="pl-v">investment1.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>investor<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">investment2.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>investment<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))</pre></div>

<h4>
<a id="fraud" class="anchor" href="#fraud" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fraud</h4>

<div class="highlight highlight-source-r"><pre><span class="pl-c"># find messages with the topic 'fraud'</span>
<span class="pl-v">fraud.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>fraud<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))</pre></div>

<h4>
<a id="service" class="anchor" href="#service" aria-hidden="true"><span class="octicon octicon-link"></span></a>Service</h4>

<div class="highlight highlight-source-r"><pre><span class="pl-c"># find messages with the topic 'service'</span>
<span class="pl-v">service.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>service<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))</pre></div>

<h4>
<a id="fee" class="anchor" href="#fee" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fee</h4>

<div class="highlight highlight-source-r"><pre><span class="pl-c"># find messages with the topic 'fee'</span>
<span class="pl-v">fee.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>fee<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))</pre></div>

<h4>
<a id="job" class="anchor" href="#job" aria-hidden="true"><span class="octicon octicon-link"></span></a>Job</h4>

<div class="highlight highlight-source-r"><pre><span class="pl-c"># find messages with the topic 'job'</span>
<span class="pl-v">job1.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>interview<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">job2.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>recruiting<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">job3.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>recruitment<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))
<span class="pl-v">job4.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>job<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))</pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/davekrall015/Wells-Fargo-Analytics-Competition">Wells Fargo Analytics Competition</a> is maintained by <a href="https://github.com/davekrall015">davekrall015</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
